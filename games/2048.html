<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>2048 (Local)</title>
  <style>
    body { background: #222; color: #fff; margin: 0; display: flex; flex-direction: column; align-items: center; }
    h1 { margin-top: 20px; }
    #game { margin-top: 30px; }
    .row { display: flex; }
    .cell {
      width: 60px; height: 60px; margin: 4px;
      background: #333; color: #fff; font-size: 2rem;
      display: flex; align-items: center; justify-content: center;
      border-radius: 8px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>2048 (Local)</h1>
  <div id="game"></div>
  <script>
    // Simple 2048 clone (minimal, for demo)
    let board = [
      [0,0,0,0],
      [0,0,0,0],
      [0,0,0,0],
      [0,0,0,0]
    ];
    function addTile() {
      let empty = [];
      for(let r=0;r<4;r++) for(let c=0;c<4;c++) if(board[r][c]==0) empty.push([r,c]);
      if(empty.length==0) return;
      let [r,c] = empty[Math.floor(Math.random()*empty.length)];
      board[r][c] = Math.random()<0.9?2:4;
    }
    function draw() {
      let html = '';
      for(let r=0;r<4;r++) {
        html += '<div class="row">';
        for(let c=0;c<4;c++) {
          html += `<div class="cell">${board[r][c]||''}</div>`;
        }
        html += '</div>';
      }
      document.getElementById('game').innerHTML = html;
    }
    function move(dir) {
      let moved = false;
      for(let i=0;i<4;i++) {
        let arr = [];
        for(let j=0;j<4;j++) arr.push(dir<2?board[j][i]:board[i][j]);
        if(dir%2==1) arr.reverse();
        let filtered = arr.filter(x=>x);
        for(let k=0;k<filtered.length-1;k++) if(filtered[k]==filtered[k+1]) { filtered[k]*=2; filtered[k+1]=0; }
        filtered = filtered.filter(x=>x);
        while(filtered.length<4) filtered.push(0);
        if(dir%2==1) filtered.reverse();
        for(let j=0;j<4;j++) {
          if(dir<2) { if(board[j][i]!=filtered[j]) moved=true; board[j][i]=filtered[j]; }
          else { if(board[i][j]!=filtered[j]) moved=true; board[i][j]=filtered[j]; }
        }
      }
      if(moved) addTile();
      draw();
    }
    document.addEventListener('keydown', e => {
      if(e.key=='ArrowUp') move(0);
      if(e.key=='ArrowDown') move(1);
      if(e.key=='ArrowLeft') move(2);
      if(e.key=='ArrowRight') move(3);
    });
    addTile(); addTile(); draw();
  </script>
</body>
</html>
